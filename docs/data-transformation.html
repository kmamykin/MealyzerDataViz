<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Mealyzer diabetes app study exploratory data visualization</title>
  <meta name="description" content="Chapter 3 Data transformation | Mealyzer diabetes app study exploratory data visualization" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Mealyzer diabetes app study exploratory data visualization" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Mealyzer diabetes app study exploratory data visualization" />
  
  
  

<meta name="author" content="Klyment Mamykin, Sunny Lee, Jinrong Cao" />


<meta name="date" content="2019-12-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/r2d3-render-0.1.0/r2d3-render.js"></script>
<script src="libs/webcomponents-2.0.0/webcomponents.js"></script>
<script src="libs/r2d3-binding-0.2.4/r2d3.js"></script>
<script src="libs/d3v5-5.9.2/d3.min.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>
<script src="libs/d3-5.10.0/d3.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Mealyzer Data Vix</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#mealyzer-application-and-functionality"><i class="fa fa-check"></i><b>2.1</b> Mealyzer application and functionality</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#dataset-description"><i class="fa fa-check"></i><b>2.2</b> Dataset description</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#dataset-collection-artifacts"><i class="fa fa-check"></i><b>2.3</b> Dataset collection artifacts</a></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#data-import"><i class="fa fa-check"></i><b>2.4</b> Data Import</a><ul>
<li class="chapter" data-level="2.4.1" data-path="data-sources.html"><a href="data-sources.html#selecting-users-for-the-analysis"><i class="fa fa-check"></i><b>2.4.1</b> Selecting users for the analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#anonymized-timestamps"><i class="fa fa-check"></i><b>3.1</b> Anonymized timestamps</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#other-calculations"><i class="fa fa-check"></i><b>3.2</b> Other calculations</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#consistent-meal-times-vs-grazers"><i class="fa fa-check"></i><b>5.1</b> Consistent meal times vs grazers</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#meal-kind-analysis"><i class="fa fa-check"></i><b>5.2</b> Meal kind analysis</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#per-user-analysis"><i class="fa fa-check"></i><b>5.3</b> Per user analysis</a><ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#correlation-between-variables"><i class="fa fa-check"></i><b>5.3.1</b> Correlation between variables</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#time-effect"><i class="fa fa-check"></i><b>5.3.2</b> Time effect</a></li>
<li class="chapter" data-level="5.3.3" data-path="results.html"><a href="results.html#meal-bg-impact-visualization"><i class="fa fa-check"></i><b>5.3.3</b> Meal BG impact visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="images.html"><a href="images.html"><i class="fa fa-check"></i><b>6</b> Images</a><ul>
<li class="chapter" data-level="6.1" data-path="images.html"><a href="images.html#meal-nutrients-evaluator-vs-user"><i class="fa fa-check"></i><b>6.1</b> Meal nutrients evaluator vs user</a></li>
<li class="chapter" data-level="6.2" data-path="images.html"><a href="images.html#overtime-trends"><i class="fa fa-check"></i><b>6.2</b> Overtime trends</a></li>
<li class="chapter" data-level="6.3" data-path="images.html"><a href="images.html#sleep"><i class="fa fa-check"></i><b>6.3</b> Sleep</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>7</b> Interactive component</a></li>
<li class="chapter" data-level="8" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>8</b> Conclusion</a></li>
<li class="chapter" data-level="9" data-path="experiments-visualizing-data.html"><a href="experiments-visualizing-data.html"><i class="fa fa-check"></i><b>9</b> Experiments visualizing data</a><ul>
<li class="chapter" data-level="9.0.1" data-path="experiments-visualizing-data.html"><a href="experiments-visualizing-data.html#dataset-highlevel-view"><i class="fa fa-check"></i><b>9.0.1</b> Dataset highlevel view</a></li>
<li class="chapter" data-level="9.0.2" data-path="experiments-visualizing-data.html"><a href="experiments-visualizing-data.html#plotting-activeness-vs.bg-level"><i class="fa fa-check"></i><b>9.0.2</b> Plotting activeness vs. bg level</a></li>
<li class="chapter" data-level="9.0.3" data-path="experiments-visualizing-data.html"><a href="experiments-visualizing-data.html#plotting-prepost-meal-bg-faceting-on-user_id"><i class="fa fa-check"></i><b>9.0.3</b> Plotting pre/post meal bg ,faceting on user_id</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Mealyzer diabetes app study exploratory data visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<div id="anonymized-timestamps" class="section level2">
<h2><span class="header-section-number">3.1</span> Anonymized timestamps</h2>
<p>All data coming out of this study was anonymized. As a part of anonymization the actual timestamps were replaced with a number of seconds since user’s anchor timestamp, which is defined as the time when they took the first recording with the app. Part of the data transformation was to convert timestamps from a number of seconds format to an actual timestams (<code>POSIXct</code>) fromat, assumig the same anchor date for all users (<code>2019-01-01 00:00:00 EST</code>). The by-product of this transformation was that it aligned all timeseries data to the same starting point, making it easy to compare across users.</p>
</div>
<div id="other-calculations" class="section level2">
<h2><span class="header-section-number">3.2</span> Other calculations</h2>
<p>Assitional calculated fields were introduced:</p>
<ul>
<li><code>user_id</code> converted from numeric to character type</li>
<li><code>eaten_at</code> converted to normalized timestamp</li>
<li><code>kind</code> converted to a factor</li>
<li><code>premeal_bg_time</code> converted to normalized timestamp</li>
<li><code>postmeal_bg_time</code>converted to normalized timestamp</li>
<li><code>premeal_bg_delay_minutes</code> calculated number of minutes before premeal BG is taken and the meal</li>
<li><code>postmeal_bg_delay_minutes</code> calculated number of minutes after the meal when postmeal BG was taken</li>
<li><code>bg_impact</code> calculated difference between <code>postmeal_bg</code> and <code>premeal_bg</code></li>
<li><code>bg_impact_slope</code> ratio of <code>bg_impact</code> over the duration in minutes between post-meal and pre-meal times. Higher <code>bg_impact_slope</code> means faster BG increase abter the meal</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/kmamykin/MealyzerDataViz/edit/master/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/kmamykin/MealyzerDataViz/blob/master/03-cleaning.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
