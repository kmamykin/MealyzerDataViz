[
["index.html", "Exploration of data collected with self monitoring app in diabetes Chapter 1 Introduction", " Exploration of data collected with self monitoring app in diabetes Kliment Mamykin, Sunny Lee, Jinrong Cao 2019-12-12 Chapter 1 Introduction The data in this dataset was collected with several mobile applications built for monitoring and self management of type 2 diabetes. All these mobile apps were created within the research lab at the Columbia University Medical Center. All apps included nearly identical set of features for data collection but all provided different types of feedback to users: Glucoracle app asked individuals to record their meals by photographing them and providing a brief text description and ingredients. For each meal, users were asked to estimate nutritional composition of the meal to the best of their abilities, and record blood glucose (BG) levels captured with a conventional glucometer before and after the meal. All these data were used to train a personalized predictive model of BG regulation, which provided users with personalized predictions for post-meal BG levels. Glucoracle was deployed with individuals with type 2 diabetes recruited for pilot studies (n=20). Platano app had several versions. V1 allowed users to simply record their meals (photographs and brief descriptions and ingredients) and BG levels pre and post meals. Platano app v2 asked users to set nutritional goals (suggested by registered dietitians). Once the goals were set, it also allowed users to record meals and BG before and after meals; for each captured meal it asked users to assess whether this meal met their nutritional goals. Platano users were also provided with Fitbit tracking devices for tracking physical activity and sleep. All meals recorded with the app were evaluated by a team of nutritional experts to estimate the amount of calories and the nutritional breakdown (grams of protein, fat, carbs, fiber) in the meals. Platano was deployed in a pilot study with individuals with type 2 diabetes (n=40). While these apps varied in their features, the dataset collected exhibits many common fields. The goal for this project is to perform exploratory data visualization of this dataset. "],
["data-sources.html", "Chapter 2 Data sources 2.1 Dataset description 2.2 Table: users 2.3 Table: bg_readings 2.4 Table: meals", " Chapter 2 Data sources 2.1 Dataset description BG Readings: The bg_readings data contains information of all blood glucose (BG) values recorded at a given timestamp, in mg/dl, for a particular meal, before or after the meal; columns include: time, bg, meals_kind, meal_id, and readings_kind. Meals: The meals data contains all information about each meal the users consumed, including time, meal title, ingredients, meal kind, nutrients evaluation and calories estimation by experts and by users themselves, and nutrient proportions, etc. Activities: Only a small portion of users opted-in and shared Fitbit data. We are provided the activities-steps file and the activities-distance file for each user with Fitbit device available. In both files, time is the number of minutes since the anchor_date, while value is the value recorded for that timestamp - either number of steps or distance (in miles). Since the distance data is merely a linear function of the number of steps data, we use the steps data as a proxy for user’s activity level in this project. *anchor_data: midnight eastern on the day before the first meal recording Sleep: Only a small portion of users opted-in and shared Fitbit data. In the sleep_overview file for each user, we see the date of sleep, duration, minutes asleep, time in bed, etc. We mainly use minutesAsleep as the proxy for sleep data and compare that with activities and meals data in this project. Meal Photos: Images are in the images folder in each user directory. Users are expected to submit their meal photos for evaluations by the professional nutritionist evaluators. Once the meal photos are uploaded in the app, information on nutritional composition of their meals is recorded and can be found in the meals data. 2.2 Table: users Observations: 66 Variables: 7 $ user_id &lt;dbl&gt; 24, 56, 57, 58, 88, 99, 124, 377, 445,… $ app &lt;chr&gt; &quot;GlucOracle&quot;, &quot;GlucOracle&quot;, &quot;GlucOracl… $ total_meals &lt;dbl&gt; 93, 60, 48, 36, 38, 2, 8, 13, 7, 48, 8… $ total_bg_readings &lt;dbl&gt; 193, 120, 96, 71, 80, 3, 15, 23, 14, 5… $ meals_with_nutrition_eval &lt;dbl&gt; 93, 60, 48, 36, 38, 2, 8, 12, 7, 1, 34… $ meals_with_pre_post_bg &lt;dbl&gt; 87, 58, 40, 34, 35, 1, 7, 10, 7, 6, 46… $ complete_meals &lt;dbl&gt; 87, 40, 32, 32, 35, 1, 1, 1, 1, NA, 15… 2.3 Table: bg_readings Observations: 7,057 Variables: 6 $ user_id &lt;dbl&gt; 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24… $ time &lt;dbl&gt; 2710.000, 2805.000, 3255.000, 3320.000, 3325.000, … $ bg &lt;dbl&gt; 81, 94, 84, 89, 89, 85, 86, 97, 82, 92, 84, 99, 99… $ meals_kind &lt;chr&gt; &quot;dinner&quot;, &quot;dinner&quot;, &quot;morning_snack&quot;, &quot;morning_snac… $ meal_id &lt;dbl&gt; 811, 811, 812, 812, 813, 813, 814, 814, 819, 819, … $ readings_kind &lt;chr&gt; &quot;premeal&quot;, &quot;postmeal&quot;, &quot;premeal&quot;, &quot;postmeal&quot;, &quot;pre… bg_reading was a dataset we skipped after the initial data investigation, as it’s content (pre and post meal BGs) were already integrated with the meals dataset described below. 2.4 Table: meals Observations: 4,361 Variables: 31 $ user_id &lt;dbl&gt; 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, … $ meal_id &lt;dbl&gt; 811, 812, 813, 814, 819, 821, 822, 825, … $ eaten_at &lt;dbl&gt; 2771.446, 3260.292, 3335.071, 3709.311, … $ title &lt;chr&gt; &quot;Taco fried shrimp And spinach salad&quot;, … $ ingredients &lt;chr&gt; &quot;Fried shrimp corn meal crusted, tortia,… $ kind &lt;chr&gt; &quot;dinner&quot;, &quot;morning_snack&quot;, &quot;breakfast&quot;, … $ photo_file_name &lt;chr&gt; &quot;cdv_photo_001.jpg&quot;, &quot;cdv_photo_002.jpg&quot;… $ carbs_eval &lt;dbl&gt; 57, 7, 29, 29, 22, 6, 24, 1, 48, 63, 22,… $ protein_eval &lt;dbl&gt; 22, 4, 30, 4, 45, 4, 34, 22, 25, 36, 18,… $ fat_eval &lt;dbl&gt; 35, 1, 28, 8, 14, 1, 29, 28, 16, 33, 13,… $ calories_eval &lt;dbl&gt; 637, 53, 374, 191, 423, 51, 475, 335, 43… $ fiber_eval &lt;dbl&gt; 5, 0, 12, 5, 2, 0, 10, 1, 2, 17, 3, 2, 0… $ evaluator_id &lt;dbl&gt; 6865, 6865, 6865, 6865, 59, 59, 59, 59, … $ platemate_id &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … $ carbs_user &lt;dbl&gt; 47, 4, 36, 22, 30, 4, 38, 10, 31, 41, 12… $ protein_user &lt;dbl&gt; 14, 0, 18, 8, 30, 1, 18, 26, 28, 18, 9, … $ fat_user &lt;dbl&gt; 35, 1, 36, 3, 10, 1, 36, 15, 16, 40, 9, … $ calories_user &lt;dbl&gt; 570, 80, 400, 300, 520, 80, 400, 600, 60… $ fiber_user &lt;dbl&gt; 12, 0, 8, 3, 5, 0, 8, 20, 14, 8, 3, 11, … $ premeal_bg &lt;dbl&gt; 81, 84, 89, 86, 82, 84, 99, 89, 115, 95,… $ premeal_bg_time &lt;dbl&gt; 2710, 3255, 3325, 3700, 4030, 4720, 4790… $ postmeal_bg &lt;dbl&gt; 94, 89, 85, 97, 92, 99, 105, 90, 98, 99,… $ postmeal_bg_time &lt;dbl&gt; 2805.000, 3320.000, 3425.000, 3755.000, … $ eval_calories_computed &lt;dbl&gt; 631, 53, 488, 204, 394, 49, 493, 344, 43… $ eval_proportion_carbs &lt;dbl&gt; 0.36133122, 0.52830189, 0.23770492, 0.56… $ eval_proportion_protein &lt;dbl&gt; 0.13946117, 0.30188679, 0.24590164, 0.07… $ eval_proportion_fat &lt;dbl&gt; 0.4992076, 0.1698113, 0.5163934, 0.35294… $ user_calories_computed &lt;dbl&gt; 559, 25, 540, 147, 330, 29, 548, 279, 38… $ user_proportion_carbs &lt;dbl&gt; 0.33631485, 0.64000000, 0.26666667, 0.59… $ user_proportion_protein &lt;dbl&gt; 0.1001789, 0.0000000, 0.1333333, 0.21768… $ user_proportion_fat &lt;dbl&gt; 0.5635063, 0.3600000, 0.6000000, 0.18367… Meals dataset contains the following fields: 2.4.1 General fields user_id - identifies a user of the applicatoin meal_id - indentifier for the meal eaten_at - timestamp (in seconds since the anchor date) title - user’s description of the meal ingredients - user’s description of the ingredients kind - designates meal kind with values “breakfast”, “morning_snack”, “lunch”, “afternoon_snack”, “dinner”, “after_dinner_snack” photo_file_name- a filename of the image file. Not actually matching the image filenames as those have a format .png 2.4.2 BG impact related fields premeal_bg - mandatory premeal recording of BG in mg/dl premeal_bg_time - mandatory timestamp (in seconds since anchor time) when the user measured her BG postmeal_bg - optional postmeal recording of BG in mg/dl postmeal_bg_time - optional postmeal timestamp (in seconds since anchor time) 2.4.3 Nutritionist evaluation fields evaluator_id - identifier of the professional who performed the evaluation platemate_id - always NA carbs_eval - evaluated amount of carbs (carbohydrates) in the meal (in grams) protein_eval - evaluated amount of protein (in grams) fat_eval - evaluated amount of fat (in grams) calories_eval - evaluated amount of calories (in grams) fiber_eval - evaluated amount of fat (in grams) eval_calories_computed - computed number of calories based on the amount of carbs_eval, protein_eval, fat_eval, fiber_eval. This is in contrast to calories_eval amount which was entered by the evaluators eval_proportion_carbs - calculated proportion of carbs in the meal eval_proportion_protein - calculated proportion of protein in the meal eval_proportion_fat - calculated proportion of fat in the meal 2.4.4 User estimation fields carbs_user - user estimated amount of carbs in the meal (in grams) protein_user - user estimated amount of protein in the meal (in grams) fat_user - user estimated amount of fat in the meal (in grams) calories_user - user estimated amount of calories in the meal (in grams) fiber_user - user estimated amount of fiber in the meal (in grams) user_calories_computed - computed number of calories based on the amount of carbs_user, protein_user, fat_user, fiber_user. This is in contrast to calories_user amount which was entered by the evaluators user_proportion_carbs - calculated proportion of carbs in the meal based on user estimates user_proportion_protein - calculated proportion of carbs in the meal based on user estimates user_proportion_fat - calculated proportion of carbs in the meal based on user estimates "],
["data-transformation.html", "Chapter 3 Data transformation 3.1 Enhancing user records with data availability indicators 3.2 Anonymized timestamps 3.3 Other field types conversions", " Chapter 3 Data transformation 3.1 Enhancing user records with data availability indicators Datasets collected per user vary, due to different app version used throughout the study. Not all users have images of the meals recorded, and not all users opted-in to sharing Fitbit data (the source of activities and sleep data). Here we enhance the users records by checking on the availability of those datasets. Observations: 66 Variables: 14 $ user_id &lt;chr&gt; &quot;24&quot;, &quot;56&quot;, &quot;57&quot;, &quot;58&quot;, &quot;88&quot;, &quot;99&quot;, &quot;1… $ app &lt;fct&gt; GlucOracle, GlucOracle, GlucOracle, Gl… $ total_meals &lt;dbl&gt; 93, 60, 48, 36, 38, 2, 8, 13, 7, 48, 8… $ total_bg_readings &lt;dbl&gt; 193, 120, 96, 71, 80, 3, 15, 23, 14, 5… $ meals_with_nutrition_eval &lt;dbl&gt; 93, 60, 48, 36, 38, 2, 8, 12, 7, 1, 34… $ meals_with_pre_post_bg &lt;dbl&gt; 87, 58, 40, 34, 35, 1, 7, 10, 7, 6, 46… $ complete_meals &lt;dbl&gt; 87, 40, 32, 32, 35, 1, 1, 1, 1, NA, 15… $ user_number &lt;int&gt; 24, 56, 57, 58, 88, 99, 124, 377, 445,… $ user_fct &lt;fct&gt; 24, 56, 57, 58, 88, 99, 124, 377, 445,… $ has_meal_images &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TR… $ has_sleep &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FAL… $ has_activities_calories &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FAL… $ has_activities_distance &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FAL… $ has_activities_steps &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FAL… 3.2 Anonymized timestamps All data coming out of this study was anonymized. As a part of anonymization the actual timestamps were replaced with a number of seconds since user’s anchor timestamp, which is defined as the time when they took the first recording with the app. Part of the data transformation was to convert all timestamps from a ‘number of seconds’ format to the actual timestams (POSIXct) format, assuming the same anchor date for all users (2019-01-01 00:00:00 EST). The by-product of this transformation was the alignment of all timeseries data to the same starting point, simplifying comparison across users. 3.3 Other field types conversions Several fields were converted to different types to simplify further calculations and visualizations: user_id converted from numeric to character type eaten_at converted to normalized timestamp kind converted to a factor premeal_bg_time converted to normalized timestamp postmeal_bg_timeconverted to normalized timestamp Observations: 7,057 Variables: 8 $ user_id &lt;chr&gt; &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;2… $ time &lt;dttm&gt; 2019-01-02 21:10:00, 2019-01-02 22:45:00, 2019-01… $ bg &lt;dbl&gt; 81, 94, 84, 89, 89, 85, 86, 97, 82, 92, 84, 99, 99… $ meals_kind &lt;fct&gt; dinner, dinner, morning_snack, morning_snack, brea… $ meal_id &lt;dbl&gt; 811, 811, 812, 812, 813, 813, 814, 814, 819, 819, … $ readings_kind &lt;fct&gt; premeal, postmeal, premeal, postmeal, premeal, pos… $ user_number &lt;int&gt; 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24… $ user_fct &lt;fct&gt; 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24… Observations: 4,361 Variables: 33 $ user_id &lt;chr&gt; &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;, &quot;24&quot;… $ meal_id &lt;dbl&gt; 811, 812, 813, 814, 819, 821, 822, 825, … $ eaten_at &lt;dttm&gt; 2019-01-02 22:11:26, 2019-01-03 06:20:1… $ title &lt;chr&gt; &quot;Taco fried shrimp And spinach salad&quot;, … $ ingredients &lt;chr&gt; &quot;Fried shrimp corn meal crusted, tortia,… $ kind &lt;fct&gt; dinner, morning_snack, breakfast, lunch,… $ photo_file_name &lt;chr&gt; &quot;cdv_photo_001.jpg&quot;, &quot;cdv_photo_002.jpg&quot;… $ carbs_eval &lt;dbl&gt; 57, 7, 29, 29, 22, 6, 24, 1, 48, 63, 22,… $ protein_eval &lt;dbl&gt; 22, 4, 30, 4, 45, 4, 34, 22, 25, 36, 18,… $ fat_eval &lt;dbl&gt; 35, 1, 28, 8, 14, 1, 29, 28, 16, 33, 13,… $ calories_eval &lt;dbl&gt; 637, 53, 374, 191, 423, 51, 475, 335, 43… $ fiber_eval &lt;dbl&gt; 5, 0, 12, 5, 2, 0, 10, 1, 2, 17, 3, 2, 0… $ evaluator_id &lt;dbl&gt; 6865, 6865, 6865, 6865, 59, 59, 59, 59, … $ platemate_id &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … $ carbs_user &lt;dbl&gt; 47, 4, 36, 22, 30, 4, 38, 10, 31, 41, 12… $ protein_user &lt;dbl&gt; 14, 0, 18, 8, 30, 1, 18, 26, 28, 18, 9, … $ fat_user &lt;dbl&gt; 35, 1, 36, 3, 10, 1, 36, 15, 16, 40, 9, … $ calories_user &lt;dbl&gt; 570, 80, 400, 300, 520, 80, 400, 600, 60… $ fiber_user &lt;dbl&gt; 12, 0, 8, 3, 5, 0, 8, 20, 14, 8, 3, 11, … $ premeal_bg &lt;dbl&gt; 81, 84, 89, 86, 82, 84, 99, 89, 115, 95,… $ premeal_bg_time &lt;dttm&gt; 2019-01-02 21:10:00, 2019-01-03 06:15:0… $ postmeal_bg &lt;dbl&gt; 94, 89, 85, 97, 92, 99, 105, 90, 98, 99,… $ postmeal_bg_time &lt;dttm&gt; 2019-01-02 22:45:00, 2019-01-03 07:20:0… $ eval_calories_computed &lt;dbl&gt; 631, 53, 488, 204, 394, 49, 493, 344, 43… $ eval_proportion_carbs &lt;dbl&gt; 0.36133122, 0.52830189, 0.23770492, 0.56… $ eval_proportion_protein &lt;dbl&gt; 0.13946117, 0.30188679, 0.24590164, 0.07… $ eval_proportion_fat &lt;dbl&gt; 0.4992076, 0.1698113, 0.5163934, 0.35294… $ user_calories_computed &lt;dbl&gt; 559, 25, 540, 147, 330, 29, 548, 279, 38… $ user_proportion_carbs &lt;dbl&gt; 0.33631485, 0.64000000, 0.26666667, 0.59… $ user_proportion_protein &lt;dbl&gt; 0.1001789, 0.0000000, 0.1333333, 0.21768… $ user_proportion_fat &lt;dbl&gt; 0.5635063, 0.3600000, 0.6000000, 0.18367… $ user_number &lt;int&gt; 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, … $ user_fct &lt;fct&gt; 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, … "],
["missing-values.html", "Chapter 4 Missing values 4.1 Per user data availability 4.2 Meals data availability 4.3 Visualizing user compliance on recording postmeal BG 4.4 Imputing post-meal BG 4.5 Analyzing pre and post meal BG time intervals 4.6 Final selected meals subset for BG impact analysis", " Chapter 4 Missing values 4.1 Per user data availability Different users have different types of data included in their datasets. The dataset used in this project was a snapshot of an offline data repository created from a live Mealyzer database; not all data fields were available for all users. For example, while all users have records of meals and BG levels captured before meals (the apps require pre-meal BG levels to be captured with every captured meal), some users did not have meal images available, and not all users had Fitbit data (activities and sleep) available. # A tibble: 1 x 1 n &lt;int&gt; 1 7 Overall, only 7 users had complete datasets with all data present (including complete meals and fitbit data); however, even for these 7 users not all recorded meals included all the data fields. As a consequence, the dataset in this project was sparse and inconsistent between users. To accommodate this variability, each sub-analysis presented in this report only included users that had data corresponding to the analysis. Consequently, user IDs vary from one sub-analysis to another. 4.2 Meals data availability There are several patterns of missing values that can be seen from this plot. platemate_id is almost universally missing from all meals (platemate_id referred to a different way of obtaining nutritional composition of meals not used in these studies) premeal_bg and premeal_bg_time are 100% present. This was due to the design of the data recording features of the apps: all apps in these studies did not allow recording a meal without also recording BG reading taken shortly before the meal. postmeal_bg and postmeal_bg_time on the other hand are not recorded for all meals. Unlike pre-meal BG level, which was a required field for every captured meal, post-meal BG needed to be entered by users 2 hours after each meal and separately from the meal. However, few users consistently captured this reading, despite notifications from the app reminding them to record post-meal BG. Further we show a breakdown of “compliance” for taking postmeal BG, and a way to impute the missing values. Some relatively small percentage of meal are missing the “eval” (evaluator’s) fields on the nutritional meal breakdown (e.g. calories_eval, eval_calories_computed, eval_proportion_carbs…). The “user” nutritional breakdown values are mostly missing (fields like calories_user, user_calories_computed, user_proportion_carbs…). The reason is that some versions of the app asked users to enter nutritional estimation, but some version only asked for comparison with goals, but did not ask to enter nutritional estimation. 4.3 Visualizing user compliance on recording postmeal BG There does not seem to be any patterns in this visualization beyond staing that some users were diligent and recorded most of the postmeals BG, some totally ignored it, and the majority of users are somewhere in between. 4.4 Imputing post-meal BG As shown before, many meals are missing post-meal BG records, indicating that the users did not record another BG reading around 2h mark as instructed. However, in some cases, these users recorded their next meals and the corresponding pre-meal BG levels. We impute missing values for postmeal_bg and postmeal_bg_time with the next meal premeal values. After imputing postmeal_bg and postmeal_bg_time several new metrics were calculated: premeal_bg_delay_minutes calculated number of minutes before premeal BG is taken and the meal postmeal_bg_delay_minutes calculated number of minutes after the meal when postmeal BG was taken bg_impact calculated difference between postmeal_bg and premeal_bg bg_impact_slope ratio of bg_impact over the duration in minutes between post-meal and pre-meal times. Higher bg_impact_slope means faster BG increase abter the meal 4.5 Analyzing pre and post meal BG time intervals Here we look at delays between capturing meals and BG levels. Per study instructions, pre-meal BG levels should be captured at the same time as meals they are associated with, and post-meal BG levels should be captured 2 hours after recording the meal (at which time users receive a reminder from the app); however, the apps also give users flexibility in how they record meals and BG levels. Below we show the distribution of values for premeal BG delay (defined as the difference in minutes between users recording a BG reading and eating a meal), and postmeal BG delay (defined as the difference in minutes between users eating a meal and taking a postmeal BG reading). Premeal BG delay distribution has two distinct modes, one at around 5 min and another at around 22 min. This distribution suggests that users developed several different approaches to recording meals and BG levels. In the first scenario, users measured their BG, and recorded this BG with the application before starting the meal (adjusting the BG test time to about 5min back). In the second scenario, there is a longer delay between the captured pre-meal BG level and the captured meal. This suggests that these users may have measured their BG levels, but then proceeded to eat their meal first, and recorded both the meal the captured BG level only after the meal was finished, adjusting the time for BG to about 22 min back). One way to confirm this would be to visually analyze meal images for meals belonging to the second mode and see if those images include already completed meals. The researcher confirmed that in focus groups some participants reported the process of capturing meals to be disruptive; it is possible that these participants developed work-arounds that helped them to record meals without delaying enjoyment of meals while hungry. Post-meal BG levels are recorded with a median delay around 2h 15min; this was probably due to the fact that the app was sending users reminders at around 2h after each meal. This distribution has a long tail and a many outliers, probably caused by our post-meal BG imputation method and/or lapses in consistently using the app for all meals. For any analysis that focuses on the question of glycemic impact of the meals such long post-meal interval will create high variability and reduce reliability. In our analysis we filtered meals to only those that have a postmeal BG at least 4h after the meal. 4.5.1 Selecting users for the analysis Not all users used the application in the same capacity, and some recorded very few meals. For the further analysis we select top 24 users by the number of meals (for convenient facetting in a grid) [1] &quot;2254&quot; &quot;2890&quot; &quot;1821&quot; &quot;2948&quot; &quot;2392&quot; &quot;1983&quot; &quot;2942&quot; &quot;2312&quot; &quot;2475&quot; &quot;2721&quot; [11] &quot;2800&quot; &quot;24&quot; &quot;2536&quot; &quot;2262&quot; &quot;2004&quot; &quot;2702&quot; &quot;56&quot; &quot;2308&quot; &quot;1884&quot; &quot;2288&quot; [21] &quot;57&quot; &quot;1665&quot; &quot;1809&quot; &quot;58&quot; 4.6 Final selected meals subset for BG impact analysis We limit the list of all meals with imputed values to only those users with the most meals and where pre and post meal delays are withing acceptable range (1h for premeal delay and 4h for postmeal delay). And finally saving the dataset in CSV files to make it available for the interactive Shiny application. "],
["results.html", "Chapter 5 Results 5.1 Looking at the time of the meals 5.2 Meal type analysis 5.3 Meal nutrients analysis 5.4 Meal BG impact visualization 5.5 Trends in calories 5.6 Trend in fasting BG 5.7 Meal images 5.8 Looking into meal nutrients estimation (evaluator vs user)", " Chapter 5 Results Below we include some of the visualizations selected to highlight interesting insights about the data. In our exploratory analysis, we have tried many different types of visualizations. However, not all visualizations we tried were insightful or revealed any interesting patterns; these visualizations are not included in the main results section. Some of those plots are included in the appendix section. We heavily utilized facets to highlight patterns and differences between users. These faceted plots provide only a rough overview of an individual user’s stats, and mainly focus on the contrast and comparison between users. In order to facilitate comparison of the same users across different plots we maintained consistent placement of users on the facet grid, so that the same user consistently appears in the same position on all faceted plots. One of the discoveries in this project was that aggregating data across users does not yield many interesting insights. This could be due to the relatively small number of users in the dataset. However, this could also be due to the high individual variability in both behaviors (nutritional composition of meals) and biomarkers (BG before and after meals). This variability suggests the need to examine patterns for each user and compare patterns across users, rather than aggregating data, thus supporting our approach to using faceted visualizations. 5.1 Looking at the time of the meals Examination of time of meals across different users shows different eating patterns between individuals. Some users (like 2004, 2262, 2392, 24, 2475, 2890, 56, 57, and 58) have a well-defined 3 humps pattern. These users tend to eat 3 meals per day at regular times. Other users (like 2942, 2948, and 2800) have a defined 2 hump pattern; these individuals tend to eat only 2 meals a day. Yet other users (like 2254, 2536) do not have clear humps in their meal patterns; these users exhibit behaviors that are typically described as “grazing” or eating at any time of day with no consistent times. For those “two meals” user, the question remains as to what meal types (breakfast, lunch, etc.) these users tend to skip? Below we analyze meal types per user. 5.2 Meal type analysis This analysis showed both consistency and variability across users. On one hand, in this dataset, breakfast is prominently featured for almost all users and appears to be the most consistent meal across all individuals. On the other hand, there is much variability in regards to the other daily meals. For example, user 2254 (classified as “grazer”) does indeed eat a lot of snacks, which is consistent with the distribution of their times of meals. Some of the typical “two meals” users (i.e., 2942 and 2800) include breakfasts and lunches, but not dinners. Yet other “two-meal” users (like 2948) do not follow the same pattern. Ther meal times are clearly centered around just two key times, but meal type distribution contains breakfast, lunch and dinner. Another observation is that some users eat a lot of snacks, and some users do not. 5.3 Meal nutrients analysis Of note in this analysis, carbohydrates are the biggest contributor to most users’ diet; the amount of carbohydrates in users’ meals exceed amounts of protein, then fat and then fiber. Users that support this trend are 57, 1884, 2948. 5.4 Meal BG impact visualization In this plot, each line segment represents a meal captured by a user; the color of the line indicates the type of the meal (breakfast, dinner, etc.). The line segment starts at the time (relative to the meal time) and BG of pre-meal measurement, and ends at the time/BG of the post-meal measurement. The steeper slope of the line indicates higher BG impact of a meal. The red horizontal line shows the diagnostic threshold level of 200mg/dL for post-meal BG to diagnose diabetes. As this plot suggests, most of the users in dataset have relatively stable blood glucose levels with relatively little change in BG from pre-meal to post-meal; few BG levels in this dataset across users exceed the warning threshold of 200 mg/dL. However, some users (namely 2254, 1809, 2262) have considerable variability in their blood glucose levels with BG trends post-meal split between donward (descreese in BG from pre-meal to post-meal) and upward (increase in BG from pre-meal to post-meal). One user in this dataset (1809) has BG levels that are consistently above the 200 level all the time. There are also notable differences in how individuals’ BG levels change through the days. For example, user 2312 appears to be consistently starting their days with very low BG (in the 50-60 range), with their BG moving to the 100-150 range post-breafast. This behavior and impact are quite consistent across several users. User 1821 recorded many dinners (also visible on “Proportion of meals” plot); these dinners appear to have a relatively mild impact on their BG, with a bump of around 50 BG points per dinner. User 2942 appears to consistently have breakfasts with an impact of about 25-30 BG points and then lunch that seems to actually lower the BG in postmeal recording. That may indicate that the user takes insulin to manage diabetes. 5.5 Trends in calories At a glance it appears that most users either maintained or decreased the number of calories they consume per day. Notable exception is user 2890, whose calories consumption increased. One notable observation in this plot is that for most users the daily calories consumption is well below 2000 calories/day typically recommended for an average individual. One explanation is that users didn’t record all meals in a day. Plotting of daily amount of carbs consumed by users (carbs is the most important nutrient to manage for diabetics) shows similar trends as calories; these plots are included in the appendix. 5.6 Trend in fasting BG Fasting BG is defined as the first BG measurement after 8h of fasting, normally after sleep in the morning before breakfast. This plot shows the trend of fasting BG by user with a trend line (in blue) and a threshold (in red). Clinical guidelines in regards to the fasting BG are as follows: below 100 is considered normal (not shown on the plot), 100-125 is pre-diabetes, above 125 leads to a diagnosis of diabetes. For most of the users the trend line looks flat and at or below the threshold level. User 1809 shows a large drop in fasting BG, which would be promising, but unfortunately only few (5) datapoint exist for that user. 5.7 Meal images Here we explore the images of meals for user 2254. The first set of images shows meals that have the biggest impact over shortest timeframe (bg_impact_slope), and the second set shows the meals that had smallest (even negative) impact on BG. Unsurprisinly the lowest BG impact images are all pictures of water/drinks. 5.7.1 Per user correlation between variables Examination of correlation between different variables per user revealed several notable trends. First, there is a very strong correlation between calories_eval (calories assigned by the evaluator) and eval_calories_computed (calories calculated from the nutritional breakdown of a meal into carbs/fat/protein amounts). This correlation shows that evaluator’s experience is spot on estimating the meal or the evaluators are using the same formula themselves. Second, there is a positive correlation between calories_eval/eval_calories_computed and each of carbs_eval, fat_eval and protein_eval. Again, no surprise here, as calories in meals can be derived from nutrients. Next, a strong negative correlation between eval_proportion_carbs and eval_proportion_fat shows that individuals have several typical meal patterns: they either eat meals that are high in carbohydrate and low in fat, or meals that are low in carbohydrates and high in fat. Interestingly, the proportion of protein stays somewhat independent. The correlation between bg_impact and bg_impact_slope makes sense as the time delay between premeal and postmeal BG is relatively constant at about 2h. Unfortunately, there are no clear correlations to suggest what factors affects the glycemic impact of meals. This relationship is non-linear; more sophisticated methods should be employed to answer this question. 5.8 Looking into meal nutrients estimation (evaluator vs user) Here we examine the following question: how well do users estimate nutritional composition of their own meals by comparing users’ estimates to estimates for the same meals generated by the professional nutritionist evaluators. Here, we display three plots with increasing level of details. The first plot displays the distribution of errors by all users when estimating meal calories. By error we mean the difference between evaluator’s estimate of the amount of calories and the user’s estimate of the same. The distribution of error looks to be a compact symmetric distribution with a median very close to 0. In the task of calorie estimation, the users achieved high accuracy as compared to professional estimation. This was a surprising finding to the researcher, who assumed before seeing the data that there will be high discrepancy between users’ estimates and professionals’ estimates, reflection low levels of nutritional knowledge among users. One consequence of this discovery is that there appears to be less need to obtain explensive professional nutritional evaluations as the users’ own estimates are comparable to those of professional evaluators. The second plot displays how well users estimated each nutrient overall. These plots show that on average, individuals tend to overestimate the amount of fiber in their meals, which may suggest an overly optimistic view as individuals with diabetes are typically recommended to increase fiber in their meals. For Fat and Protein the median of the estimates are pretty close to 0. Finally, for carbohydrates, users estimates are slightly below those of the professional nutritionists. This find presents a concern as carbohydrates in meals are the main contributor to rise on post-meal BG levels; underestimating carbohydrates in meals can lead to overconsumption and to undesired increase in BG levels. The third plot breaks down the user’s ability to estimate carbs by each user. Here we see that there are systematic biases in how different users estimate carbs. Some users (e.g. the first five users) estimate very close to the evaluator’s value, and some users are consistently under-estimating. Interestingly there are no users who systematically over-estimated the amount of carbs. "],
["interactive.html", "Chapter 6 Interactive 6.1 6.1 Interesting Findings", " Chapter 6 Interactive If the application inside this window is too small to work with, please click here to open it in a new tab. 6.1 6.1 Interesting Findings We produced interactive plots using Shiny App as seen above. There are four tabs, which give information on nutrient overview for all selected users, overview of average pre-meal and post-meal blood glucose levels for the same users, and analysis reports by date and hour respectively. Each interactive plot allows the audience to select different fields like date range, meal types, and/or users. Nutrient Overview tab compares the nutrient proportion for all meals for each user evaluated by experts to that by the users themselves. We see that, in general, users tend to overestimate the proportion of fat and fiber and underestimate the proportion of carbs they consume compared to what experts evaluate. We can see more details regarding trends of each nutrient type consumed over time for each user in the third chart. Blood Glucose Overview tab produces two charts of average premeal and postmeal BG levels. The first one plots all BG levels over the selected date range, whereas the second one plots average BG levels for each hour throughout one day. The first piece of information we observe from these graphs is that people’s overall BG levels vary a lot. For example, user 1809 has much higher BG levels than the other users. However, on the bright side, 1809’s average premeal bg level is decreasing, which could be a positive sign of his/her health status. Other users like 1665 and 2308 shows increasing pre and post-meal BGs, which leads us to wonder what exactly they’ve been consuming. One thing worth noticing is that, people who have relatively high BG levels produce more volatile BG plots, whereas those with a lower BG level, produce more stable BG plots. Analyze by Date tab presents four plots for selected users to tile information about BG levels, calories intake, and nutrients intake together for the audience to discover interesting trends and connect the dots. User #1809 serves as an example of people with relatively high BG levels. In the Calories Intake plot, we could see that over time, he/she ingests more calories for dinner and less calories for breakfast, and lunch is usually missing. In the Weights of Food Intake plot, we could see even though he/she consumes less carbs, weights of fat has been increasing. These bad eating habits could possibly validate such high BG levels compared with other users. User #2254 also seems to be an interesting case, as the user seems to be adopting a more healthy lifestyle - less calories intake for all meal types, less carbs and fat consumed with pretty stable fiber intake, and lower premeal and postmeal bg levels over time. We can also look at user #24. At first glance, it seems that the average premeal and postmeal bg level are pretty consistent over time. We see that the user consumed more calories for lunch as time went by, so we decided to leave breakfast and dinner data out and look at only lunch. We were able to see that the difference between premeal bg level and postmeal bg level became more obvious, and the user was consuming more carbs and protein over time. In regards to the proportion of nutrient, this user also consumed the most protein and fiber. All of these healthy lifestyle and eating habits explains why this user’s BG levels were low and stable. For user #2890, we see that there is obvious upward trends for calories intake for all meals, which are consistent with the average premeal and postmeal BG levels when we filter in the breakfast meal type. Also, the user seems to be consuming more and more carbs across time, with the weights of carbs intake higher than those of other users. However, the user’s average BG levels seem to be pretty stable overtime regardless of his eating habit, which leads us to wonder if he engaged in a lot of manual labor during the day. Analyze by Hour tab provides four plots that document the average pre-meal and post-meal BG level by hour, the average BG impact by hour, average calories intake by hour, and the weights of food intake by hour. This tab shows some interesting cases worth discussing: User #24 serves as a good example of users with a better eating habits. We see that user #24 consumes breakfast and morning snack regularly, and often eat less during dinner hours. Even though user #24 consumes more carbs during dinner hours, the weights of food intake for user #24 are still relatively consistent (we see relatively flat trends for the weights of food intake in a day). The generally lower pre and post-meal average BG level for user #24 may also suggest a better health situation compared to other users. On the contrary, user #2262 may seem like someone with a more irregular eating schedule. According to the average calories intake plot, user #2262 tend to consume more food in the second half of the day, with the dinner hour spanning between 17:00 and 23:00. The average BG impact by hour is also the highest during late afternoon/dinner time. We see that, even though on average the postmeal bg level for user #2262 and the weight of carbs the user consumed dropped throughout the day, the average premeal BG level increased especially during dinner hours. Plots for user #1821 present other interesting findings. We see that, compared to other users, user #1821 consumes a lot more calories throughout the day, especially during dinner hours, when user #1821 consumes the most carbs. However, the average pre and post meal BG level for user #1821 seems relatively consistent. The average pre-meal BG level even dropped toward the end of the days. If we were to make a guess, we would assume that user #1821 represent blue-collar worker with more physical/labor work or an athlete. "],
["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion One of the conclusions we learned is that in analytics of human behaviour aggregating across people (especially if the number of people in dataset is small) hides the patterns that are apparent when looking at a person’s behaviour We did’t see an easy answer to the question: what are the factors that impact person’s BG. Analyzing relationship between the nutrients and the glycemic impact of a meal we did not see linear correlation, suggesting a more sophisticated methods should be used for further exploration. user dashboard "],
["appendix.html", "Chapter 8 Appendix 8.1 Sleep", " Chapter 8 Appendix Have the ability of users to estimate nutrients change overtime with the use of the app? 8.1 Sleep Questions: * does the amount of sleep impact the first BG reading in the day (pre-breakfast, important!) (the very first pre-breakfst BG reading is considered fasting and is a true-ish representation of glycemic control (how bad is your diabetis)). * Does amount (or quality of sleep) have an impoact on pre-breakfast BG (&lt;- new measure). * Urban mith - the quality/amount of sleep may change how people respond to meals, e.g. for the same nutritional breakdown of a meal BG_impoact will be different. Fat and protein mediate the impact of carbohidrate. How to show this (focus on the visualization, data may be lacking the signal) "]
]
